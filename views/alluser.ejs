<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title><%= userDetails.name %></title>
  <link rel="stylesheet" href="../stylesheets/style.css">
  <link rel="stylesheet" href="../stylesheets/profile.css">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.0.0/fonts/remixicon.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
</head>
<body>


  <div id="main">
    <% include ../partials/nav.ejs %>
      <div id="fixmain">
        <% include ../partials/sidenav.ejs %>
          <div id="profiledets">
            <div id="top">
              <div style="position: relative;" id="profileimg">
                <img src="/getFile/<%=userDetails.profileimg %>" alt="">
              </div>
              <div id="profiledes">
                <h2><%=userDetails.name %></h2>
                <div style="display: flex; align-items: center; gap: 25px;" id="subscribe">
                  <h4><%=userDetails.channelname %></h4>
                  <% if(loginuser.subscribed.indexOf(userDetails._id)=== -1){ %>
                    <a href="/subscribe/<%= userDetails._id %>">
                      <button style="background-color: transparent; border: none; padding: 5px 20px; border: 1px solid #dedede82; border-radius: 10px; font-weight: 500; text-transform: capitalize;">Subscribe</button>
                    </a>
                 <% } else{ %>
                  <a href="/subscribe/<%= userDetails._id %>">
                    <button style="background-color: transparent; border: none; padding: 5px 20px; border: 1px solid #dedede82; border-radius: 10px; font-weight: 500; text-transform: capitalize; background-color: #ffff; color: #000;">Subscribed</button>
                  </a>
                <% } %>
                </div>
              </div>
            </div>
            <h1 class="uplod">Videos</h1>
            <div id="myuploadvideos">
              <% userDetails.videos.forEach(function(video){ %>
                <div class="card mt-2" style="width: 23rem; background-color: transparent; color: #fff; border: 1px solid #333;">
                 <a href="/watch/<%= video._id %>">
                    <div id="videocard">
                        <video src="/getvideo/<%=video.video%>"></video>
                        </div>
                 </a>
                  <a style="text-decoration: none;" href="/watch/<%= video._id %>">
                    <div class="card-body">
                      <p style="height: 50px; overflow: hidden;"class="card-text mb-3"><%= video.tittle %></p>
                    </div>
                  </a>
                </div>
             <% }) %>
            </div>
          </div>
      </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
    crossorigin="anonymous"></script>
</body>
</html>